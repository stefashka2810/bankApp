# BankApp – Финансовое приложение

## Общая идея

**BankApp** — консольное C#-приложение, реализующее простой банковский функционал:

- создание и удаление банковских счетов;
- управление категориями доходов/расходов;
- добавление операций с фильтрацией по дате, категории, счету;
- экспорт операций и данных в JSON с поддержкой наблюдателей.

Реализована архитектура через **паттерны проектирования**, принципы **SOLID** и **GRASP**, обеспечивающие гибкость, читаемость и масштабируемость кода.

## Функциональность

- Создание/удаление банковских счетов с начальным балансом.
- Категории операций (доходы/расходы).
- Добавление и фильтрация операций.
- Экспорт данных (в формате JSON).
- Поддержка наблюдателей при экспорте (наблюдатель уведомляет в консоль о старте/завершении/ошибках).

## Принципы SOLID и GRASP

| Принцип | Описание | Где реализовано |
|--------|----------|-----------------|
| **S - Single Responsibility** | Каждый класс выполняет одну задачу | `BankAccountFactory`, `OperationFactory`, `CategoryFactory` |
| **O - Open/Closed** | Классы легко расширяются, но не модифицируются | Использование интерфейса `ICommand<T>` и `LoggingCommand` |
| **L - Liskov Substitution** | Замена подкласса не нарушает функциональность | `BankCommand<T>` и `LoggingCommand<T>` реализуют `ICommand<T>` |
| **I - Interface Segregation** | Интерфейсы узконаправленные | `ICommand<T>`, `IObserver` — конкретные интерфейсы |
| **D - Dependency Inversion** | Используется внедрение зависимостей через `IServiceProvider` | `Program.cs` |

**GRASP:**
- **Controller** — `BankFacade` управляет бизнес-логикой;
- **Creator** — `BankAccountFactory` создает объекты `BankAccount`;
- **Low Coupling / High Cohesion** — классы четко разделены по задачам и слабо связаны.

## Используемые паттерны GoF

| Паттерн | Назначение | Где используется |
|--------|------------|------------------|
| **Command** | Оборачивает операции в объекты | `BankCommand<T>`, `LoggingCommand<T>` |
| **Factory Method** | Создание объектов через фабрики | `BankAccountFactory`, `OperationFactory`, `CategoryFactory` |
| **Facade** | Унифицированный интерфейс | `BankFacade.cs` управляет всеми действиями |
| **Observer** | Уведомление об экспорте | `ExportNotifier`, `ConsoleObserver`, `IObserver` |
| **Decorator** | Добавление логгирования | `LoggingCommand<T>` оборачивает `ICommand<T>` |

Эти паттерны сделали систему модульной, расширяемой и легко тестируемой.

## Инструкция по запуску

### Требования

- .NET 7.0 SDK или новее
- Поддержка C# 10+

### Запуск

1. Клонируйте/распакуйте проект.
2. Откройте терминал в папке проекта (`bankApp/bankApp/bankApp`)
3. Выполните:

```bash
dotnet build
dotnet run
```

### Результат

- Программа создаст два аккаунта, добавит операцию и экспортирует все данные в файл `export.json`
- Вы увидите сообщения в консоли благодаря `ConsoleObserver`
